$(document).ready((function(){reloadTable()}));import{initCustomDataTable}from"../DataTable/datatables-init.js";import{DataTableListener,GeneralEventListener}from"../utils/listeners.js";let table,estatus_tag;function reloadTable(){$("#role").attr("role");table=initCustomDataTable("#horarios",BASE_URL+"api/horarios.php?tipo=horarios",[{data:"id",title:"#"},{data:"nombre",title:"Nombre"},{data:"fecha_registro",title:"Fecha reg."},{data:null,title:"Estatus",render:t=>(estatus_tag=1==t.estatus?'<span class="badge bg-success">Activo</span>':'<span class="badge bg-secondary">Inactivo</span>',estatus_tag)},{data:null,title:"Opciones",render:function(t,a,e){return""}}],[[1,"asc"]])}function cancelarHorario(t){Swal.fire({icon:"question",title:"Â¿Deseas desactivar este horario?",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Si",showCloseButton:!0}).then((a=>{a.isConfirmed&&$.ajax({type:"POST",url:BASE_URL+"servidor/historial/eliminar-registro.php",data:{id_reg:t,tabla:"horarios"},dataType:"JSON",success:function(t){1==t.estatus?Swal.fire({icon:"success",html:`\n                      ${t.mensaje}<br>\n                      `,allowOutsideClick:!0,confirmButtonText:"Entendido",showCancelButton:!1}).then((t=>{t.isConfirmed&&tabla.ajax.reload(!1)})):Swal.fire({icon:"error",html:`\n                      Ocurrio un error: ${t.mensaje}\n                      `,allowOutsideClick:!0,showCancelButton:!1,confirmButtonText:"Entendido"}).then((t=>{t.isConfirmed&&tabla.ajax.reload(!1)}))}})}))}