import{GeneralEventListener}from"../utils/listeners.js";$(document).ready((function(){const s=$("#area-permisos");s.empty().append('\n        <div class="row">\n            <div class="col-12 text-center">\n                <dotlottie-wc\n                    class="m-auto"\n                    src="https://lottie.host/16abd1c5-90bb-4e18-b98b-a616ac4b71ff/Y552obLciD.lottie"\n                    style="width: 120px;height: 120px"\n                    autoplay\n                    loop></dotlottie-wc>\n            </div>\n        </div>\n    '),setTimeout((()=>{$.ajax({type:"post",url:BASE_URL+"api/permisos.php?tipo=ver_lista_permisos",data:"data",dataType:"json",success:function(e){if(e.estatus){s.empty();const n=e.data.reduce(((s,e)=>{const n=e.id_categoria||0;return s[n]||(s[n]={nombre:e.categoria??"General",permisos:[]}),s[n].permisos.push(e),s}),{});s.html("");const t={SELECT:"eye",CREATE:"plus-circle",UPDATE:"edit",CANCEL:"trash-2"};Object.entries(n).forEach((([e,n])=>{const a=`collapse_categoria_${e}`;n.permisos.sort(((s,e)=>s.bandera-e.bandera));let i="";n.permisos.forEach((s=>{i+=`\n                        <li class="list-group-item ps-4">\n                            <div class="row">\n                                <div class="col-6 col-md-8">\n                                <i data-feather="${t[s.tipo]??"help-circle"}"></i>\n\n                                    <strong>${s.permiso}</strong>\n                                    <br>\n                                    <small class="text-muted">${s.descripcion}</small>\n                                </div>\n                                <div class="col-6 col-md-4">\n                                    <label class="switch">\n                                        <input type="checkbox"\n                                            class="permiso-switch"\n                                            data-permiso="${s.id}"\n                                            ${1==s.estatus?"checked":""}>\n                                        <span class="slider"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </li>\n\n                        \n                    `})),s.append(`\n                <div class="col-12 mb-3">\n                    <ul class="list-group list-group-flush">\n        \n                        <li class="list-group-item d-flex align-items-center py-2"\n                            data-bs-toggle="collapse"\n                            href="#${a}"\n                            role="button"\n                            aria-expanded="false"\n                            aria-controls="${a}">\n                            <i class="align-middle" data-feather="chevron-right"></i>\n                            <strong class="fs-4">${n.nombre}</strong>\n                        </li>\n        \n                        <div class="collapse" id="${a}">\n                            <div class="card card-body p-0">\n                                <ul class="list-group list-group-flush">\n                                    ${i}\n                                </ul>\n                            </div>\n                        </div>\n        \n                    </ul>\n                </div>\n            `)})),feather.replace()}}})}),1400)}));