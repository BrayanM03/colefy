function verTicketAbono(a){const o=new jsPDF;fetch("../servidor/abonos/traer-ticket-abono.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({abono_id:a})}).then((a=>a.json())).then((a=>{6==a.datos.id_proyecto?logo=data_logo_montealto.replace(/[\s"\\]/gm,""):10==a.datos.id_proyecto?logo=data_logo_vallegracia.replace(/[\s"\\]/gm,""):9==a.datos.id_proyecto?logo=data_logo_villaanaiz.replace(/[\s"\\]/gm,""):11==a.datos.id_proyecto?logo=data_logo_montealto_2.replace(/[\s"\\]/gm,""):12==a.datos.id_proyecto?logo=data_logo_magnolia_delsur.replace(/[\s"\\]/gm,""):13==a.datos.id_proyecto&&(logo=data_logo_bosques_primavera.replace(/[\s"\\]/gm,"")),logo_cb=logo_letras_abajo.replace(/[\s"\\]/gm,""),logo_whats=logo_whatsapp.replace(/[\s"\\]/gm,""),logo_addr=logo_address.replace(/[\s"\\]/gm,""),o.addImage(logo_cb,"JPEG",10,0,30,25),o.addImage(logo,"JPEG",40,5,30,15),o.setFont("helvetica","normal"),o.setFontSize(10),o.text(a.datos.datos_abono.fecha,173,23,"center"),o.addImage(logo_whats,"PNG",78,9,4,4),o.text("(868) 274 1147",95,12,"center"),o.addImage(logo_addr,"PNG",76.5,14,6,6),o.text("C. España 71, Buena Vista, 87497 \n  Heroica Matamoros, Tamps.",110,18,"center"),o.setFont("helvetica","bold"),o.setFontSize(11),o.text("TICKET DE ABONO INDIVIDUAL",142,12),o.setFontSize(9),o.text("Folio "+a.datos.datos_abono.id,170,16),cliente_mayus=a.datos.cliente.toUpperCase(),o.text("Nombre del titular: ",10,35),o.text(cliente_mayus,40,35),pagado=a.datos.pagado,saldo=a.datos.saldo,proyecto=a.datos.proyecto,manzana=a.datos.manzana,lote=a.datos.lote,fecha=a.datos.datos_abono.fecha,mes=a.datos.datos_abono.mes,total=a.datos.datos_abono.total,tipo=a.datos.datos_abono.tipo,year=a.datos.datos_abono.year,penalizacion_monto=a.datos.datos_abono.penalizacion_monto,no_abono=a.datos.datos_abono.no_abono,DatosGenerales=[{manzana:manzana,lote:lote,tipo:tipo,no_abono:no_abono,mes:mes,total:total,year:year,penalizacion_monto:penalizacion_monto}],bodyContract=[{data:DatosGenerales}],o.autoTable({headStyles:{fillColor:[211,211,211],textColor:[54,69,79],halign:"justify"},startY:44,body:DatosGenerales,styles:{cellPadding:4,fontSize:11},margin:{left:8,top:8},tableWidth:190,columns:[{header:"Manzana",dataKey:"manzana"},{header:"Lote",dataKey:"lote"},{header:"Tipo",dataKey:"tipo"},{header:"No. abono",dataKey:"no_abono"},{header:"Mes",dataKey:"mes"},{header:"Año",dataKey:"year"},{header:"Total",dataKey:"total"},{header:"Penalización",dataKey:"penalizacion_monto"}]}),o.setFontSize(11);let e=a.datos.datos_abono.penalizacion_monto;total=parseFloat(total);const t=total.toLocaleString("en"),n=e?e.toLocaleString("en"):0;neto=parseFloat(total)+parseFloat(e);const d=neto.toLocaleString("en");o.text("Total: $"+t,129,82),o.text("Penalizacion: $"+n,129,88),o.text("Neto $"+d,129,94),o.addImage(logo_cb,"JPEG",10,127,30,25),o.addImage(logo,"JPEG",40,132,30,15),o.setFont("helvetica","normal"),o.setFontSize(10),o.text(a.datos.datos_abono.fecha,173,150,"center"),o.addImage(logo_whats,"PNG",78,136,4,4),o.text("(868) 274 1147",95,139,"center"),o.addImage(logo_addr,"PNG",76.5,141,6,6),o.text("C. España 71, Buena Vista, 87497 \nHeroica Matamoros, Tamps.",110,145,"center"),o.setFont("helvetica","bold"),o.setFontSize(11),o.text("TICKET DE ABONO INDIVIDUAL",142,139),o.setFontSize(9),o.text("Folio "+a.datos.datos_abono.id,170,143),o.text("Nombre del titular: ",10,162),o.text(cliente_mayus,40,162),o.autoTable({headStyles:{fillColor:[211,211,211],textColor:[54,69,79],halign:"justify"},startY:171,body:DatosGenerales,styles:{cellPadding:4,fontSize:11},margin:{left:8,top:8},tableWidth:190,columns:[{header:"Manzana",dataKey:"manzana"},{header:"Lote",dataKey:"lote"},{header:"Tipo",dataKey:"tipo"},{header:"No. abono",dataKey:"no_abono"},{header:"Mes",dataKey:"mes"},{header:"Año",dataKey:"year"},{header:"Total",dataKey:"total"},{header:"Penalización",dataKey:"penalizacion_monto"}]}),o.setFontSize(11),o.text("Total: $"+t,129,209),o.text("Penalizacion: $"+n,129,215),o.text("Neto $"+d,129,220);var l="<embed width='100%' height='100%' src='"+o.output("datauristring")+"'/>",s=window.open();s.document.open(),s.document.write(l),s.document.close()}))}function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}function cerrar(){window.open("","_parent",""),window.close()}