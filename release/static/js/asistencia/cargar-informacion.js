const Toast=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:a=>{a.onmouseenter=Swal.stopTimer,a.onmouseleave=Swal.resumeTimer}});function cargarMaterias(){let a=$("#grupo").val();$("#materias-area").empty(),$.ajax({type:"post",url:"../servidor/asistencias/cargar-informacion.php",data:{id_grupo:a},dataType:"json",success:function(e){e.estatus?e.data.forEach((e=>{let i=convertirHora(e.hora);$("#materias-area").append(`\n                                 <div class="col-12 col-md-4">\n                                                <div class="card w-75" style="border:1px solid #939ba2">\n                                                    <div class="card-body">\n                                                            <h5 class="card-title">${e.nombre}</h5>\n                                                            <p class="card-text">${e.codigo} - Hora: ${i}</p>\n                                                            <a href="#" \n                                                            onclick="redirigirPasarAsistencia(${a}, ${e.id})"\n                                                            class="btn btn-primary">Tomar asistencia</a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                    `)})):$("#materias-area").append(`\n                <div class="col-12 col-md-4">\n                    <h3>${e.mensaje}</h3>\n                </div>\n                `)}}),console.log(localStorage)}function redirigirPasarAsistencia(a,e){let i=$("#fecha-asistencia").val();window.location.href=`pasar-lista-asistencia.php?fecha=${i}&id_grupo=${a}&id_materia=${e}`}function convertirHora(a){const[e,i]=a.split(":"),s=parseInt(e,10);return`${s%12||12}:${i} ${s>=12?"pm":"am"}`}function tomarAsistencia(a,e,i,s,o,t){console.log(a,e,i,s,o),$.ajax({type:"post",url:"../servidor/asistencias/tomar-asistencia.php",data:{tipo:a,id_alumno:e,id_materia:i,fecha:s,id_grupo:o,deshacer:t},dataType:"json",success:function(a){a.estatus?(Toast.fire({icon:"success",title:a.mensaje}),setTimeout((function(){window.location.reload()}),1e3)):Toast.fire({icon:"error",title:a.mensaje})}})}