function iniciarSesion(){if($("#btn-login").empty().html("<div class='preloader'></div>"),user=document.getElementById("user").value,pass=document.getElementById("pass").value,validarDatos(user,pass)){var e=new FormData;e.append("username",user),e.append("pass",pass),$.ajax({type:"POST",url:BASE_URL+"servidor/database/iniciar-sesion.php",processData:!1,contentType:!1,data:e,dataType:"JSON",success:function(e){console.log(e),2==e.estado?animarError("user",2):3==e.estado?animarError("pass",2):1==e.estado&&(localStorage.setItem("rol",e.rol),localStorage.setItem("sucursal",e.sucursal),window.location.href=BASE_URL+"dashboard"),$("#btn-login").empty().html("Entrar")}})}}function validarDatos(e,a){return null==e||null==e||0==e.length||""==e?(animarError("user",1),!1):null!=a&&null!=a&&0!=a.length&&""!=a||(animarError("pass",1),!1)}function animarError(e,a){document.getElementById(e).classList.add("animate__headShake"),setTimeout((function(){document.getElementById(e).classList.remove("animate__headShake")}),700),"user"==e&&1==a?Toast.fire({icon:"error",title:"Ingresa un usuario"}):"pass"==e&&1==a&&Toast.fire({icon:"error",title:"Ingresa una contraseña"}),"user"==e&&2==a?Toast.fire({icon:"error",title:"El usuario no existe"}):"pass"==e&&2==a&&Toast.fire({icon:"error",title:"Contraseña incorrecta"})}const Toast=Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}});